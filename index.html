<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="index.css" rel="stylesheet" />
    <title>Pillowverse Upgrade Tree</title>
  </head>

  <body>
    <div id="menu">
      <div id="menuBtn" class="menu-button">
        <div></div>
      </div>
      <div id="infoBtn" data-tabid="1" class="menu-button">
        <ion-icon name="information-circle-outline"></ion-icon>
      </div>
      <div id="calcBtn" data-tabid="0" class="menu-button">
        <ion-icon name="calculator-outline"></ion-icon>
      </div>
    </div>

    <template id="upgrade">
      <div class="upgrade bought" style="left: 0%; top: 1%; filter: filters">
        <div class="upgrade-name" style="letter-spacing: 0px">
          {upgradeName}
        </div>
        <span class="upgrade-price">{upgradePrice}</span>
      </div>
    </template>
    <div id="upgradeContainer"></div>

    <template id="description">
      <div
        class="description bought"
        data-id="{id}"
        style="left: 0%; top: 1%; filter: filters"
      >
        {upgradeDescription}
      </div>
    </template>
    <div id="descriptionContainer"></div>

    <div id="calcTabBg" data-tabid="0" class="tab-bg">
      <div id="calcTab" data-tabid="0" class="tab">
        <div id="calcCloseBtn" data-tabid="0" class="tab-close-btn">
          <ion-icon name="close-outline"></ion-icon>
        </div>
        <div id="calcFormula">
          <div id="calcFormulaText">
            수정 포인트+0%<br />
            Fibered 200 미적용 *80%<br />
            Cottened 3000 미적용 ^0.7
          </div>
          <div id="calcTime">
            <input
              id="calcTimeInput"
              class="calc-input"
              size="1"
              type="number"
              value="1"
            />
            <span>t</span>
          </div>
          <ion-icon class="calc-arrow" name="arrow-down-outline"></ion-icon>
          <div id="calcSize">
            <input
              id="calcSizeInput"
              class="calc-input"
              size="1"
              type="number"
              value="1"
            />
            <span>cm³</span>
          </div>
          <ion-icon class="calc-arrow" name="arrow-down-outline"></ion-icon>
          <div id="calcPoint">
            <input
              id="calcPointInput"
              class="calc-input"
              size="1"
              type="number"
              value="1"
            />
            <span>수정 포인트</span>
          </div>
          <ion-icon class="calc-arrow" name="arrow-down-outline"></ion-icon>
          <div id="calcNumber">
            <span>+</span><span id="calcOutput">1</span>
          </div>
        </div>
        <div id="calcUpgrades">
          <span>업그레이드</span>
          <div>
            <div class="calc-upgrade">석영 I</div>
            <span>수정 포인트로 환산되는 양이 20% 증가합니다.</span>
          </div>
          <div>
            <div class="calc-upgrade">석영 II</div>
            <span>수정 포인트로 환산되는 양이 40% 증가합니다.</span>
          </div>
          <div>
            <div class="calc-upgrade">방해석</div>
            <span>수정 포인트의 Cottoned 소프트캡이 1500cm³ 미뤄집니다.</span>
          </div>
          <div>
            <div class="calc-upgrade">석고</div>
            <span>수정 포인트의 Cottoned 소프트캡이 30% 약화됩니다.</span>
          </div>
          <div>
            <div class="calc-upgrade">공작석</div>
            <span>수정 포인트의 Fibered 소프트캡이 50% 약화됩니다.</span>
          </div>
          <div>
            <div class="calc-upgrade">휘석</div>
            <span>수정이 더 빨리 자랍니다. (+3 -> +3.5)</span>
          </div>
          <div>
            <div class="calc-upgrade">흑운모</div>
            <span>수정 포인트의 Fibered 소프트캡이 800cm³ 미뤄집니다.</span>
          </div>
        </div>
        <p>
          * Cottoned 소프트캡<br />
          적용 이후의 값에 ^0.7 승수를 적용합니다.[기본 소프트캡은 3000] 예시)
          현재 숫자가 8000인데, 2000부터 적용되는 Cottoned의 영향을 받은 경우
          2000 + 6000^0.7 = 2441이 됩니다.
          <br /><br />
          * Fibered 소프트캡<br />
          적용 이후의 값을 20% 감소시킵니다.[기본 소프트캡은 200] 예시) 현재
          숫자가 400인데, 300부터 적용되는 Fibered에 적용된 경우, 300 + 100*80%
          = 380이 됩니다.
          <br /><br />
          * 실시간으로 반영되는 황철석은 제외하였습니다.
        </p>
      </div>
    </div>

    <div data-tabid="1" class="tab-bg">
      <div id="infoTab" data-tabid="1" class="tab">
        <div id="infoCloseBtn" data-tabid="1" class="tab-close-btn">
          <ion-icon name="close-outline"></ion-icon>
        </div>
        *수정<br />
        수정은 1로 시작해서 15분마다 3n(n은 자란 횟수)만큼 자라고, 수정의 크기는
        수정 포인트와 1대1로 대응된 뒤, 소프트캡이 적용됩니다.<br />
        소프트캡은 이곳의 계산기에서 쉽계 계산할 수 있습니다. 수정 포인트를
        정산하면, 수정이 초기화되고, 숫자는 수정 포인트를 100으로 나눈 몫만큼
        늘어납니다.
        <br /><br />*현재 가진 능력들<br />
        <span id="upgradeList"></span><br /><br />
        *소요시간<br />
        업그레이드를 구매할 때, 소요 시간 조건이 존재한다면 그 시간동안 다른
        업그레이드를 사지 못하고 기다려야 합니다.
        <br /><br />*계산기<br />
        다양한 방법으로 얻을 수 있습니다. 옵션 한 가지를 가지고 있으며, 이
        옵션은 품질에 의해 성능이 결정됩니다. 품질은 기본 10~50 중 무작위로
        결정됩니다. 한 번 사용할 시 망가지기 전까지 해제할 수 없고, 여러
        계산기를 한 번에 사용할 수 없습니다.
        <br /><br />*계산기 과부하<br />
        - 어떤 이유로, 계산기가 정해진 품질 최댓값을 넘어서는 품질로 등장한
        경우, 과부하됩니다.<br />
        - 과부하가 걸린 계산기는 내구도가 상당히 줄어듭니다.<br />
        <br /><br />*버튼<br />
        - 모든 계산기는 하나 이상의 버튼 슬롯을 가집니다. (최대 5개)<br />
        - 계산기의 품질 / 2만큼의 숫자를 차감해, 버튼을 좌측부터 하나씩 해금할 수 있습니다. 1회 해제할 때마다 차감량은 50% 증가합니다.<br />
        - 버튼은 가장 좌측에 있는 것이 가장 약하며, 오른쪽으로 갈수록 해금했을 때 효과가 세집니다.<br />
        - 버튼 색은 어느 효과를 늘리는지 결정합니다.<br />
        - 빨간색 : 추가 품질<br />
        - 노란색 : 추가 내구도<br />
        - 초록색 : 계산기가 망가질 확률 감소<br />
        - 파란색 : 계산기가 망가질 때 추가 효과
      </div>
    </div>

    <canvas id="connectionCanvas"></canvas>

    <script src="data.js"></script>
    <script src="index.js"></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>
